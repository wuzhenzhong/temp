# 更新或者插入

4.9.8.1 该功能是根据主键判段是否存在，如果存在则更新，不存在则插入，支持批量操作



```cs
`//主键存在库的情况``db.Saveable<Student>(entity).ExecuteReturnEntity();``//UPDATE [STudent]  SET``//[SchoolId]=@SchoolId,[Name]=@Name,[CreateTime]=@CreateTime WHERE[Id] = @Id ` `//主键不存在库的情况``db.Saveable<Student>(``new` `Student() { Name = ``""` `}).ExecuteReturnEntity();``// INSERT INTO[STudent]``//([SchoolId],[Name],[CreateTime])``// VALUES``//(@SchoolId, @Name, @CreateTime); SELECT SCOPE_IDENTITY();`  `//可以设置插入过滤和指定列``db.Saveable<Student>(``new` `Student() { Name = ``""` `}).InsertColumns(it=>it.Name).ExecuteReturnEntity();``db.Saveable<Student>(``new` `Student() { Name = ``""` `}).InsertIgnoreColumns(it => it.SchoolId).ExecuteReturnEntity();` `//也可以设置更新过滤和指定列``db.Saveable<Student>(entity).UpdateIgnoreColumns(it=>it.SchoolId).ExecuteReturnEntity();``db.Saveable<Student>(entity).UpdateColumns(it=>``new` `{ it.Name,it.CreateTime }).ExecuteReturnEntity();`
```