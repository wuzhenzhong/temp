# 输出

## 3. 输出

### 3.1 不要显示JS堆栈`CssSyntaxError`

[纠错](javascript:;)

PostCSS运行器不得显示CSS语法错误的堆栈跟踪，因为不熟悉JavaScript的开发人员可以使用该运行器。相反，优雅地处理这样的错误：

```javascript
processor.process(opts).catch(function (error) {
    if ( error.name === 'CssSyntaxError' ) {
        process.stderr.write(error.message + error.showSourceCode());
    } else {
        throw error;
    }
});
```

### 3.2 显示`result.warnings()`

PostCSS跑步者必须输出以下警告`result.warnings()`：

```javascript
result.warnings().forEach(function (warn) {
    process.stderr.write(warn.toString());
});
```

另请参阅[postcss-log-warnings](https://github.com/davidtheclark/postcss-log-warnings)和[postcss-messages](https://github.com/postcss/postcss-messages)插件。

### 3.3 允许用户将源映射写入不同的文件

PostCSS默认情况下会在生成的文件中内联源映射; 但是，PostCSS运行者必须提供将源地图保存在不同文件中的选项：

```javascript
if ( result.map ) {
    fs.writeFile(opts.to + '.map', result.map.toString());
}
```

本文档系腾讯云云+社区成员共同维护，如有问题请联系 yunjia_community@tencent.com

最后更新于：2018-09-14