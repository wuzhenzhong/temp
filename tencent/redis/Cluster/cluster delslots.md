# cluster delslots

```javascript
CLUSTER DELSLOTS slot [slot ...]
```

**自3.0.0起可用。**

**时间复杂度：** O（N）其中N是散列槽参数的总数

在 Redis 集群中，每个节点都会跟踪哪个主服务器正在服务特定的哈希槽。

该`DELSLOTS`命令要求特定的 Redis 群集节点忘记哪个主服务器正在提供指定为参数的散列槽。

在接收到`DELSLOTS`命令的节点的上下文中，因此删除了传递的散列槽的关联，我们说这些散列槽*未被绑定*。请注意，未绑定哈希槽的存在会自然发生，当一个节点尚未配置为处理它们（可以使用该`ADDSLOTS`命令完成的操作），并且未收到有关谁拥有这些哈希槽的任何信息（可以学习的东西从心跳或更新消息）。

如果具有未绑定哈希槽的节点从另一个节点接收到一个声称是某些哈希槽的拥有者的心跳包，则该关联立即建立。此外，如果接收到的心跳或更新消息的配置时期大于节点自己的配置时期，则关联重新建立。

但是，请注意：

\1. 该命令仅适用于所有指定的插槽已与某个节点关联的情况。

\2. 如果多次指定同一个插槽，则命令失败。

\2. 作为命令执行的副作用，节点可能会进入*关闭*状态，因为并非所有散列槽都被覆盖。

## 示例

以下命令从接收该命令的节点中删除了插槽5000和5001的关联：

```javascript
> CLUSTER DELSLOTS 5000 5001
OK
```

## 在 Redis 集群中的用法

此命令仅适用于集群模式，对于调试以及在创建新集群时手动编排集群配置很有用。它目前不被使用`redis-trib`，并且主要用于 API 完整性。

## 返回值

[简单的字符串回复](https://redis.io/topics/protocol#simple-string-reply)：`OK`如果命令成功。否则会返回错误。

本文档系腾讯云云+社区成员共同维护，如有问题请联系 yunjia_community@tencent.com

最后更新于：2017-12-18